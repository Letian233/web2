<!DOCTYPE html>
<html lang="en" data-current-user='{{ current_user|tojson|safe }}' data-initial-reviews='{{ initial_reviews|tojson|safe }}'>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/hamberger.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages.css') }}">
    <script src="{{ url_for('static', filename='js/jQuery_v3.7.1.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/pages.js') }}"></script>
    <script src="{{ url_for('static', filename='js/hamberger.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jQuery_fadeIn.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jQuery_ToTop.js') }}"></script>
    <script src="{{ url_for('static', filename='js/data.js') }}"></script>
    <script src="{{ url_for('static', filename='js/cart.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/reviews.js') }}"></script>
</head>
<body class="reviews-page">
    <!-- 用户菜单 - 固定在右上角 -->
    <div id="userMenuContainer" class="user-menu-fixed"></div>
    <div id="container">
        <header>
          <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container-fluid">
              <button class="navbar-toggler hamburger" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto" id="nav">
                  <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}">Home</a></li>
                  <li class="nav-item"><a class="nav-link" href="{{ url_for('about') }}">About</a></li>
                  <li class="nav-item"><a class="nav-link" href="{{ url_for('menu') }}">Menu</a></li>
                  <li class="nav-item"><a class="nav-link current" href="{{ url_for('reviews') }}">Review</a></li>
                </ul>
              </div>
            </div>
          </nav>
        </header>
        
    <div class="wrapper">
      <div class="container">
        <div class="border"></div>
        
        <div class="row mt-4">
          <!-- 左侧评论区域 -->
          <div class="col-12 col-lg-8">
            <article>
              <h3>Reviews</h3>
              
              <!-- 表单一：顶部静态表单（位于评论列表上方） -->
              <div class="bili-comment-input" id="static-review-form">
                <div class="comment-avatar">
                  <div class="avatar-circle" id="currentUserAvatar">U</div>
                </div>
                <div class="comment-input-wrapper">
                  <textarea 
                    id="review-text" 
                    class="comment-textarea" 
                    placeholder="Share your thoughts..."
                    rows="3"
                  ></textarea>
                </div>
                <button type="button" class="comment-submit-btn" id="submitReviewBtn">Send</button>
              </div>

              <!-- 评论展示容器（固定高度，内部滚动） -->
              <div class="reviews-widget">
                <!-- 滚动区域 -->
                <div class="reviews-scroll-area" id="reviews-scroll-area">
                  <!-- 评论列表容器（容器内滚动） -->
                  <div id="reviews-list" class="bili-comments-list">
                    <!-- 评论将在这里动态生成 -->
                  </div>
                </div>

                <!-- 表单二：底部悬浮栏（固定在评论区底部，默认隐藏） -->
                <div id="sticky-bottom-bar" class="sticky-bottom-bar" aria-hidden="true">
                  <div class="sticky-bar-content">
                    <div class="comment-avatar">
                      <div class="avatar-circle" id="stickyUserAvatar">U</div>
                    </div>
                    <div class="sticky-input-wrapper">
                      <textarea 
                        id="sticky-review-text" 
                        class="sticky-textarea" 
                        placeholder="Share your thoughts..."
                        rows="1"
                      ></textarea>
                    </div>
                    <button type="button" class="sticky-submit-btn" id="stickySubmitBtn">Send</button>
                  </div>
                </div>
              </div>
            </article>
          </div>
          
          <!-- 右侧边栏 -->
          <div class="col-12 col-lg-4 mt-4 mt-lg-0">
            <aside class="sidebar">
              <h3>Signature Dish: Truffle Sauce Roasted Chicken</h3>
              <img src="{{ url_for('static', filename='images/1.jpg') }}" class="img-fluid mb-3" alt="snacks">
              <p><strong>Critic: Gordon Ramsay</strong> At this establishment, I had the distinct pleasure of savoring their signature dish - Truffle Sauce Roasted Chicken. The selection of chicken is impeccable, with tender and succulent meat that offers a natural flavor that is both subtle and rich. The roasting is executed to perfection, with a golden-brown crust that is crisp on the outside and the meat so tender it almost melts in your mouth.<br><br>
                The addition of truffle sauce is the crowning glory of this dish. The aroma of the truffle is robust yet not overpowering, blending seamlessly with the chicken's natural taste, enhancing the overall flavor profile. The sauce is expertly balanced, neither overshadowing the chicken's essence nor falling short in adding depth.<br>
                <a href="#"><strong>Continue Reading &raquo;</strong></a></p>
            </aside>
          </div>
        </div>
        
        <div class="border2 mt-4"></div>
      </div>
    </div>
  </div>
</body>
</html>
